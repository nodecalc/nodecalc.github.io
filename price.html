<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>PiCrumbs — Pi Price</title>
  <link rel="icon" href="tt_pi_32.png" sizes="32x32" type="image/png">
  <meta name="theme-color" content="#2e1d59">

  <style>
  :root {
    --pi-purple: #5c3b8a;
    --pi-purple-dark: #4a2f6f;
    --pi-purple-soft: #f1edf8;
    --pi-gold: #f2b134;
    --pi-gold-dark: #d89b22;
    --pi-border: #d9d3e6;
    --pi-text: #2b2b2b;
    --pi-sub: #666;
    --good: #1f8f55;
    --bad: #b63a3a;
  }

  body {
    margin: 0;
    background: #f4f2f8;
    color: var(--pi-text);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  }

  .content {
    max-width: 980px;
    margin: 0 auto;
    padding: 0 14px;
  }

  .topbar {
    background: var(--pi-purple);
    color: #fff;
    padding: 14px 18px;
    text-align: center;
  }

  .topbar-inner {
    max-width: 520px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
  }

  .pi-mark img {
    width: 32px;
    height: 32px;
  }

  .wrap {
    max-width: 980px;
    margin: 20px auto 80px;
  }

  .card {
    background: #fff;
    border: 1px solid var(--pi-border);
    border-radius: 14px;
    margin-bottom: 20px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  }

  .card .hd {
    background: var(--pi-purple);
    color: white;
    padding: 12px 16px;
    font-weight: 700;
    font-size: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .card .bd {
    padding: 16px;
  }

  .pill {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 13px;
    font-weight: 600;
  }

  .pill.good { background: #e9f9ef; color: #1f8f55; }
  .pill.bad  { background: #fdeceb; color: #b63a3a; }

  .tabs {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin: 12px 0;
  }

.tabs .btn {
  background: var(--pi-purple);
  color: white;
  border: 1px solid var(--pi-purple-dark);
  border-radius: 20px;
  padding: 8px 16px;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s;
  min-width: 60px; /* or 70px */
  text-align: center;
}

.tabs .btn:hover {
  background: var(--pi-purple-dark);
}

.tabs .btn.active {
  background: var(--pi-gold);
  color: #3a2a00;
  border-color: var(--pi-gold-dark);
  outline: none; /* remove default focus outline */
}

  input[type="text"] {
    width: 100%;
    padding: 12px;
    border: 1px solid var(--pi-border);
    border-radius: 10px;
    font-size: 15px;
  }
.back-btn:hover {
  background: var(--pi-gold);
  color: #3a2a00;
}
  button.btn {
    background: var(--pi-purple);
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
  }

  button.btn:hover {
    background: var(--pi-purple-dark);
  }

  canvas {
    width: 100%;
    height: 320px;
    border-radius: 8px;
    background: white;
  }

  .axisNote {
    margin-top: 12px;
    color: var(--pi-sub);
    font-size: 13px;
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
  }

  .badge {
    display: inline-block;
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }

  .badge.in  { background: #58b86a; }
  .badge.out { background: #e15759; }
  .badge.self { background: #facc15; }

  .inputRow {
    display: flex;
    gap: 12px;
    margin-top: 16px;
    flex-wrap: wrap;
  }

  .inputRow input {
    flex: 1;
    min-width: 260px;
  }

  footer {
    text-align: center;
    color: var(--pi-sub);
    margin: 40px 0;
    font-size: 13px;
  }
  .back-btn {
  background: var(--pi-purple);
  color: white;
  border: none; /* no border to match purple buttons */
  padding: 10px 20px;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 600;
  text-decoration: none;
  display: inline-block;
  transition: background 0.2s;
}

.back-btn:hover {
  background: var(--pi-purple-dark);
}
</style>
</head>
<body>

<div class="topbar">
  <div class="topbar-inner">
    <div class="pi-mark">
      <img src="tt_pi_32.png" alt="Pi">
    </div>
    <div>
      <div style="font-size:18px; font-weight:600;">Crumbs Pi Price</div>
      <div style="font-size:13px; opacity:0.9;">pi app style</div>
    </div>
  </div>
</div>

<div class="wrap">
<div class="btn-row" style="margin:20px 0; justify-content:center;">
  <a href="/" class="btn back-btn">Back to NodeCalc</a>
</div>
  <section class="card">
    <div class="hd">
      <strong>Pi Market</strong>
      <div>
        <span id="p_usd" style="font-size:1.4rem; font-weight:700;">$0.0000</span>
        <span id="p_chg" class="pill">0.00%</span>
      </div>
    </div>

    <div class="bd">
      <div style="display:flex; justify-content:space-between; margin-bottom:12px; font-size:14px;">
        <div class="muted">24h Volume: <span id="p_vol">$0</span></div>
        <div class="muted">Updated: <span id="p_ts">–</span></div>
      </div>

  <div style="margin:16px 0;">
  <span class="muted" style="margin-right:12px;">Timeframe</span>
  <div class="tabs">
    <button class="btn active" data-tf="D">Day</button>
    <button class="btn" data-tf="W">Week</button>
    <button class="btn" data-tf="M">Month</button>
    <button class="btn" data-tf="Y">Year</button>
    <button class="btn" data-tf="A">All</button>
  </div>
</div>

      <canvas id="chart"></canvas>

      <div class="axisNote">
        <span class="muted">Left axis: USD • Bottom: date</span>
        <span class="badge in"></span><span class="muted">incoming</span>
        <span class="badge out"></span><span class="muted">outgoing</span>
        <span class="badge self"></span><span class="muted">self-send</span>
      </div>

      <div class="inputRow">
        <input id="acct" type="text" placeholder="Enter wallet G..." maxlength="56" spellcheck="false">
        <button class="btn" id="btnLoadTx">Load Wallet</button>
        <span id="msg" class="muted"></span>
      </div>
    </div>
  </section>

  <footer>
    PiCrumbs © 2025 • Price module (standalone) • 
    <a href="https://picrumbs.online/" style="color:var(--pi-purple);">picrumbs.online</a>
  </footer>

</div>

<script src="price-logic.js"></script>
</body>

</html>
