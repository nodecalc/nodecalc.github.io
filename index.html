<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Pi Node Profit Calculator</title>
  <meta name="theme-color" content="#5c3b8a">
  <link rel="icon" href="tt_pi_32.png" type="image/png">
  <link rel="apple-touch-icon" href="tt_pi_32.png">

  <style>
    :root {
      --pi-purple: #5c3b8a;
      --pi-purple-dark: #4a2f6f;
      --pi-purple-soft: #f1edf8;
      --pi-red-soft: #fdeceb;
      --pi-green-soft: #e9f9ef;
      --pi-blue-soft: #eef1ff;
      --pi-gold: #f2b134;
      --pi-gold-dark: #d89b22;
      --pi-border: #d9d3e6;
      --pi-text: #2b2b2b;
      --pi-sub: #666;
    }

    body {
      margin: 0;
      background: #f4f2f8;
      color: var(--pi-text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }

    .topbar {
      background: var(--pi-purple);
      color: #fff;
      padding: 14px 18px;
    }

    .topbar-inner {
      max-width: 520px;
      margin: 0 auto;
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .pi-mark {
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .pi-mark img { width: 100%; height: 100%; display: block; }

    .top-title { font-size: 15px; font-weight: 600; }
    .top-sub   { font-size: 12px; opacity: .85; }

    .wrap {
      max-width: 520px;
      margin: 14px auto 100px;
      padding: 0 14px;
    }

    .card {
      background: #fff;
      border: 1px solid var(--pi-border);
      border-radius: 14px;
      margin-bottom: 20px;
      overflow: hidden;
    }

    .card.soft { background: var(--pi-purple-soft); }

    .bar {
      background: var(--pi-purple);
      color: #fff;
      padding: 12px 14px;
      font-size: 13px;
      font-weight: 700;
    }

    .body { padding: 10px 12px; }

    .math-row { display: flex; gap: 8px; }

    .tile {
      flex: 1;
      padding: 12px 10px;
      border-radius: 10px;
      border: 1px solid var(--pi-border);
      text-align: center;
    }

    .tile.red   { background: var(--pi-red-soft); }
    .tile.green { background: var(--pi-green-soft); }
    .tile.blue  { background: var(--pi-blue-soft); }

    .tile input {
      width: 90%;
      margin: 0 auto;
      display: block;
      font-size: 16px;
      font-weight: 800;
      text-align: center;
    }

    .multiply {
      font-size: 18px;
      font-weight: 800;
      margin-top: 22px;
      opacity: .6;
    }

    button {
      background: #fff;
      color: var(--pi-purple);
      border: 1px solid var(--pi-border);
      border-radius: 20px;
      padding: 7px 16px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      margin: 8px 6px 0 0;
    }

    button.active {
      background: var(--pi-gold);
      color: #3a2a00;
      border-color: var(--pi-gold-dark);
    }

    .curr-btn.active {
      background: var(--pi-purple) !important;
      color: white !important;
      border-color: var(--pi-purple-dark) !important;
    }

    label {
      font-size: 13px;
      color: var(--pi-sub);
      display: block;
      margin-top: 14px;
    }

    input.std {
      width: 100%;
      padding: 11px 12px;
      margin-top: 6px;
      border-radius: 10px;
      border: 1px solid var(--pi-border);
    }

    .result {
      border: 2px solid var(--pi-purple);
    }

    .result-row {
      padding: 10px 0;
      border-bottom: 1px solid var(--pi-border);
    }

    .result-row:last-child { border-bottom: none; }

    .big-number { font-size: 22px; font-weight: 800; }
    .good { color: #1f8f55; }
    .bad  { color: #b63a3a; }

    .small { font-size: 12px; color: var(--pi-sub); margin-top: 10px; }

    .slider-container {
      position: relative;
      margin: 10px 0 2px;
      height: 30px;
    }

    .slider-container label {
      font-size: 15px;
      color: var(--pi-sub);
      position: absolute;
      left: 0;
      top: 0;
      line-height: 2;
    }

    .slider-container input[type="range"] {
      position: absolute;
      top: 12px;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(
        to right,
        var(--pi-purple) 0%,
        var(--pi-purple) var(--progress, 0%),
        #e0e0e0 var(--progress, 0%),
        #e0e0e0 100%
      );
      border-radius: 2px;
      outline: none;
      -webkit-appearance: none;
      appearance: none;
    }

    .slider-value {
      position: absolute;
      top: 50%;
      right: 0;
      transform: translateY(-50%);
      background: var(--pi-purple);
      color: #fff;
      padding: 6px 12px;
      min-width: 30px;
      border-radius: 14px;
      font-size: 12px;
      font-weight: 700;
      box-shadow: 0 2px 6px rgba(0,0,0,.25), inset 0 -1px 0 rgba(255,255,255,.25);
      pointer-events: none;
      text-align: center;
    }

    .slider-container input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 32px;
      height: 26px;
      background: var(--pi-gold);
      border: 2px solid var(--pi-purple);
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3), inset 0 -2px 4px rgba(0,0,0,0.2);
      margin-top: -6px;
    }
  </style>
</head>
<body>

<div class="topbar">
  <div class="topbar-inner">
    <div class="pi-mark">
      <img src="tt_pi_32.png" alt="Pi">
    </div>
    <div>
      <div class="top-title">Pi Node Profit Calculator</div>
      <div class="top-sub">Unofficial</div>
    </div>
  </div>
</div>

<div class="wrap">

  <div class="card soft">
    <div class="body small">
      Uses real Pi mining values to estimate whether running a node is
      <b>financially worth it</b>.
    </div>
    <div style="text-align:center; margin:12px 0; font-size:14px;">
      Currency: 
      <button class="curr-btn active" id="curr-USD">USD</button>
      <button class="curr-btn" id="curr-EUR">EUR</button>
      <button class="curr-btn" id="curr-PHP">PHP</button>
      <button class="curr-btn" id="curr-VND">VND</button>
      <button class="curr-btn" id="curr-KRW">KRW</button>
      <button class="curr-btn" id="curr-IDR">IDR</button>
      <button class="curr-btn" id="curr-INR">INR</button>
      <button class="curr-btn" id="curr-NGN">NGN</button>
    </div>
  </div>

  <div class="card">
    <div class="bar">Mining (copy values exactly from your Pi app)</div>
    <div class="body">
      <div class="math-row">
        <div class="tile red">
          <input id="base" type="number" step="0.000001" value="0.0026">
          <div class="small">Base Rate (π/hr)</div>
        </div>
        <div class="multiply">×</div>
        <div class="tile green">
          <input id="boostPct" type="number" step="0.01" value="203.15">
          <div class="small">Boosters (%)</div>
        </div>
        <div class="multiply">×</div>
        <div class="tile blue">
          <input id="rewardOff" type="number" step="0.01" value="1.39">
          <div class="small">Rewards</div>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="bar">Pi Price</div>
    <div class="body">
      <label id="piPriceLabel">Estimated Pi price ($)</label>
      <input id="piPrice" class="std" value="0.60">
      <div id="piPriceMeta" class="small">Live price loading…</div>
    </div>
  </div>

  <div class="card">
    <div class="bar">Node Settings (adjust live)</div>
    <div class="body" style="padding:10px 12px;">

      <div class="slider-container">
        <label id="elecLabel">Electricity cost ($/kWh)</label>
        <input type="range" id="kwhSlider" min="0.00" max="0.50" step="0.01" value="0.18">
        <div class="slider-value" id="kwhValue">$0.18</div>
      </div>

      <div class="slider-container">
        <label>Power draw (watts)</label>
        <input type="range" id="wattsSlider" min="0" max="300" step="5" value="60">
        <div class="slider-value" id="wattsValue">60 W</div>
      </div>

      <div class="slider-container">
        <label>Node bonus multiplier</label>
        <input type="range" id="nodeBonusSlider" min="0" max="30" step="0.1" value="5">
        <div class="slider-value" id="nodeBonusValue">5.0×</div>
      </div>

      <div class="small" style="margin:12px 0 4px; font-size:10px; text-align:center; color:var(--pi-sub);">
        Real 2026 ranges: most 1–12× • rare >20×
      </div>

      <div id="nodeExtraPreview" class="small" style="margin-top:2px; font-size:11px; text-align:center; font-weight:600;">
        Node adds ≈ +0.000 π/day
      </div>

      <input type="hidden" id="kwh" value="0.18">
      <input type="hidden" id="watts" value="60">
      <input type="hidden" id="nodeBonus" value="5">
    </div>
  </div>

  <div class="card result">
    <div class="bar">Result (daily)</div>
    <button onclick="generateShareImage()" style="margin:12px 14px; display:block;">
      Save results as image
    </button>
    <div class="body" id="out"></div>
  </div>

  <!-- picrumbs status -->
  <div style="text-align:center; margin:40px 0 80px; font-size:13px; color:#555;">
    <div style="margin-bottom:6px;">picrumbs.online monitoring tools</div>
    <div style="display:inline-flex; align-items:center; gap:10px; background:rgba(255,255,255,0.7); padding:8px 16px; border-radius:12px; border:1px solid #e0d9f0;">
      Status:
      <span id="status-dot" style="display:inline-block; width:12px; height:12px; border-radius:50%; background:#999; box-shadow:0 0 0 3px rgba(153,153,153,0.3); transition:all 0.4s ease;"></span>
      <span id="status-text" style="font-weight:600;">checking...</span>
    </div>
  </div>

</div>

<script src="nodecalc.js"></script>

</body>
</html>
